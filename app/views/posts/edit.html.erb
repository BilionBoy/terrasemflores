
  <style>
    .container { max-width: 850px; }
    .form-group { margin-bottom: 1.5rem; padding: 1.5rem; border-radius: 8px; background: linear-gradient(135deg, #e0e0e0, #ffffff); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
    .form-label { font-weight: bold; }
    .form-control { border-radius: 5px; box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1); }
    .btn-primary { border-radius: 5px; background-color: #007bff; border-color: #007bff; }
    .btn-danger { border-radius: 5px; background-color: #dc3545; border-color: #dc3545; }
    .img-thumbnail { border: 1px solid #ddd; border-radius: 5px; background-color: #fff; }
  </style>
</head>
<body>
  <div class="container mt-4">
    <%= form_with(model: @post, local: true) do |form| %>
      <% if @post.errors.any? %>
        <div id="error_explanation" class="alert alert-danger">
          <h2><%= pluralize(@post.errors.count, "error") %> proibiu que este post fosse salvo:</h2>
          <ul><% @post.errors.full_messages.each { |msg| %><li><%= msg %></li><% } %></ul>
        </div>
      <% end %>

      <div class="form-group">
        <%= form.label :body, class: 'form-label' %>
        <%= form.text_area :body, class: 'form-control', rows: 6 %>
      </div>

      <div class="form-group">
        <%= form.label :published_at, class: 'form-label' %>
        <%= form.datetime_select :published_at, class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= form.label :audio_url, class: 'form-label' %>
        <%= form.text_field :audio_url, class: 'form-control' %>
        <% if @post.audio_url.present? %>
          <div class="mt-2">
            <span class="badge bg-secondary">Áudio Atual:</span>
            <%= form_with url: clear_audio_post_path(@post), method: :patch, local: true do %>
              <%= submit_tag 'Limpar Áudio', class: 'btn btn-danger' %>
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="form-group">
        <%= form.label :images, 'Imagens', class: 'form-label' %>
        <%= form.file_field :images, multiple: true, class: 'form-control' %>
        <% if @post.images.attached? %>
          <div class="mt-2">
            <% @post.images.each_with_index do |image, index| %>
              <div class="d-inline-block me-2">
                <%= image_tag image, width: 80, height: 80, class: 'img-thumbnail' %>
                <%= form_with url: remove_image_post_path(@post, index), method: :delete, local: true do %>
                  <%= submit_tag 'Remover', class: 'btn btn-danger btn-sm d-block mt-1' %>
                <% end %>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="actions">
        <%= form.submit 'Atualizar Post', class: 'btn btn-primary' %>
      </div>
    <% end %>

    <%= link_to 'Voltar', admin_path, class: 'btn btn-secondary mt-3' %>
  </div>
