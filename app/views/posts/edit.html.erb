<!DOCTYPE html>
<html>
  <head>
    <title>Edit Post</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_importmap_tags %>
  </head>
  <body style="background-color: #fff; margin: 0; padding: 0;">
    <div class="container-fluid" style="margin: 0; padding: 0;">
      <div class="row" style="margin: 0; padding: 0;">
        <div class="col-3" style="padding: 0;">
          <!-- Sidebar aqui -->
        </div>
        <div class="col-9" style="padding: 20px;">
          <%= form_with(model: @post, local: true, html: { multipart: true }) do |form| %>
            <% if @post.errors.any? %>
              <div id="error_explanation" style="color: red;">
                <h2><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h2>
                <ul>
                  <% @post.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                  <% end %>
                </ul>
              </div>
            <% end %>

            <div class="field">
              <%= form.label :title, class: 'form-label' %>
              <%= form.text_field :title, class: 'form-control', placeholder: 'Enter the title here' %>
            </div>

            <div class="field">
              <%= form.label :body, class: 'form-label' %>
              <%= form.text_area :body, class: 'form-control', rows: 5, placeholder: 'Write the content here' %>
            </div>

            <div class="field">
              <%= form.label :published_at, class: 'form-label' %>
              <%= form.datetime_select :published_at, class: 'form-control' %>
            </div>

            <div class="field">
              <%= form.label :images, "Images", class: 'form-label' %>
              <%= form.file_field :images, multiple: true, class: 'form-control' %>
            </div>

            <div class="actions">
              <%= form.submit "Update Post", class: 'btn btn-primary' %>
            </div>
          <% end %>

          <%= link_to 'Back', posts_path, class: 'btn btn-secondary', style: 'margin-top: 20px;' %>

          <%= button_to 'Delete Post', post_path(@post), method: :delete, data: { confirm: 'Are you sure you want to delete this post?' }, class: 'btn btn-danger', style: 'margin-top: 20px;' %>
        </div>
      </div>
    </div>
  </body>
</html>
