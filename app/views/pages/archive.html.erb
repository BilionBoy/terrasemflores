<body class="archive-page">
  <div class="container">
    <div class="row g-2">
      <% if @posts_with_images.present? %>
        <% @posts_with_images.each do |post| %>
          <% first_image = post.images.first %>
          <% if first_image %>
            <div class="col-6 col-md-4 col-lg-3 mt-5">
              <div class="card archive-card">
                <%= link_to post_path(post) do %>
                  <%= image_tag first_image, class: 'card-img-top', alt: 'Imagem do post' %>
                <% end %>
                <div class="card-body">
                  <p class="card-text">Post do <%= post.created_at.strftime("%d %b %Y") %></p>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      <% else %>
        <p class="no-posts">Nenhum post encontrado com imagens.</p>
      <% end %>
    </div>
  </div>
</body>
