<!-- app/views/posts/show.html.erb -->
<div style="font-family: Arial, sans-serif; color: #333; line-height: 1.6; margin: 20px auto; max-width: 800px;">

  <!-- Título do Post -->
  <h1 style="font-size: 24px; font-weight: bold; margin-bottom: 20px;"><%= @post.title %></h1>

  <!-- Corpo do Post - Texto Inicial -->
  <p style="font-size: 16px; margin-bottom: 20px;"><%= @post.body %></p>

  <!-- Imagens do Post -->
  <% if @post.images.attached? %>
    <% @post.images.each do |image| %>
      <%= image_tag image, style: 'width: 100%; height: auto; margin-bottom: 20px;' %>
    <% end %>
  <% end %>

  <!-- Continuação do Texto -->
  <p style="font-size: 16px; margin-bottom: 20px;"><%= @post.body %></p>

  <!-- Player de Áudio -->
  <% if @post.audio_url.present? %>
    <div style="margin-top: 20px;">
      <audio controls style="width: 100%;">
        <source src="<%= @post.audio_url %>" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    </div>
  <% end %>

  <!-- Seção de Comentários -->
  <div style="margin-top: 40px;">
    <h3 style="font-size: 18px; color: #333;">Comentários</h3>
    <%= form_with(model: [ @post, @post.comments.build ], url: post_create_comment_path(@post), method: :post, local: true) do |form| %>
      <div class="field" style="margin-bottom: 20px;">
        <%= form.label :body, "Escreva seu comentário" %>
        <%= form.text_area :body, class: 'form-control', rows: 4, style: 'width: 100%; margin-bottom: 10px;' %>
      </div>

      <div class="field" style="margin-bottom: 20px;">
        <%= form.label :user_name, "Digite seu nome" %>
        <%= form.text_field :user_name, class: 'form-control', style: 'width: 100%; margin-bottom: 10px;' %>
      </div>

      <div class="actions">
        <%= form.submit "Enviar", class: 'btn btn-primary' %>
      </div>
    <% end %>

    <!-- Lista de Comentários -->
    <ul style="list-style-type: none; padding: 0;">
      <% @post.comments.each do |comment| %>
        <li style="margin-bottom: 20px; padding: 10px; border-bottom: 1px solid #ddd;">
          <p style="margin: 0;"><strong><%= comment.user_name %>:</strong></p>
          <p><%= comment.body %></p>
        </li>
      <% end %>
    </ul>
  </div>
</div>
